#include<stdio.h>
#include<math.h>

main(){
	
float V,R4,R3,V3,R1,R2,I,V1,V2,V4,PR1,PR2,PR3,PR4,PE; //declaração de variaveis
FILE *Arq;                         //declaração de ponteiro do tipo FILE
Arq= fopen("TABELA_.txt","w");    //ARQ ARMAZENA A MEMORIA QUE A FUNÇÃO SEPAROU.  
    
	if (!Arq)                   //TESTE PARA SABER SE HOUVE FALHA QUANDO A FUNÇÃO BUSCOU UMA MEMORIA
    printf ("falha ao salvar arquivo"); 
	else{
	printf("Adicione os valores dos resistores R1 e R2,em ohms, respectivamente: ");//PEDE-SE AO USUARIO AS RESISTENCIAS FIXAS
    scanf("%f %f",&R1,&R2);
	fprintf(Arq,"  __________________________________________________________________________________\
_____________________________________________________________________________________________________________\
_______________________________________________ \n |==============|===============|=========\
======|===============|===============|===============|===============|===============|===============|===============|==\
=============|===============|===============|===============|===============|\n |\tR1  \t|\tR2  \t|\tR3  \t|\tR4  \t|\tI \
 \t|\tE  \t|\tV1  \t|\tV2  \t|\tV3  \t|\tV4  \t|\tPE  \t|\tP1  \t|\tP2  \t|\tP3  \t|\tP4  \t|\n |==============|============\
===|===============|===============|===============|===============|===============|===============|===============|=========\
======|===============|===============|===============|===============|===============|");
	for (R3=0; R3<=20.20; R3+=0.2) //Variandos os valores dos potenciometros E da tensão V
	 for (R4=0; R4<=25; R4+=0.5)
	  for (V=0; V<=100; V+=5){
	  //CALCULO DA CORRENTE, POTENCIAS E TENSÕES
		I=V/(R1+R2+R3+R4);
	  	PR1=R1*(pow(I,2));
	  	PR2=R2*(pow(I,2));
	  	PR3=R3*(pow(I,2));
	  	PR4=R4*(pow(I,2));
	  	PE=V*I;
	  	V1=R1*I;
	  	V2=R2*I;
	  	V3=R3*I;
	  	V4=R4*I;
	  	fprintf(Arq,"\n |\t%.2f\t|\t%.2f\t|\t%.2f\t|\t%.2f\t|\t%.2f\t|\t%.2f\t|\t%.2f\t|\t%.2f\t|\t%.2f\t|\t%.2f\t|\t%.2f\t|\t%.2f\t|\t%.2f\t|\t%.2f\t|\t%.2f\t|\n |--------------|---------------|---------------|---------------|---------------|---------------|---------------|---------------|---------------|---------------|---------------|---------------|---------------|---------------|---------------|",R1,R2,R3,R4,I,V,V1,V2,V3,V4,PE,PR1,PR2,PR3,PR4);
	  }
	}
   
	 
	fprintf(Arq,"\n |______________|_______________|_______________|_______________|_______________|_____\
__________|_______________|_______________|_______________|_______________|_______________|_______________|___________\
____|_______________|_______________|");
	fclose(Arq);
	printf("ARQUIVO SALVO COM SUCESSO!!");
		
}

